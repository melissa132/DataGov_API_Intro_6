@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <title>TampaBay</title>
</head>



<body>
    <div class="navbar">
        <img src="./img/tampabay.png" style="vertical-align:middle" alt="Tampabay" width="200" height="100" class="navbar-brand">
        <a href="index.html" class="navbar-item">Home</a>
        <link><a href="Interest.html" class="navbar-item">Interest</a><link />
        <link><a href="CovidResources.html" class="navbar-item">Covid Recommendations</a><link />
        <link><a href="Recommendations.html" class="navbar-item">Recommendations</a><link />
    </div>
    <blockquote>
        <p>
            <b>STAY INFORMED</b>
        </p>
        <p>
        </p>
        <p>
            LET’S GET THROUGH THIS TOGETHER
        </p>
        <p>
            TAMPA BAY
        </p>
        <p>
            <b>COVID-19 Updates</b>
        </p>
        <p>
            Visit Tampa Bay is committed to the safety of its visitors, partners and community. We continue to monitor the situation very closely and recommend everyone concerned stay up-to-date with the most recent information through the <a href="https://www.cdc.gov/coronavirus/2019-ncov/index.html?CDC_AA_refVal=https%3A%2F%2Fwww.cdc.gov%2Fcoronavirus%2Findex.html">Centers for Disease Control</a> and <a href="http://www.floridahealth.gov/diseases-and-conditions/COVID-19/index.html">Prevention and the Florida Department of Health</a>.
        </p>
        <b>COVID-19 Administrative Orders & Emergency Policy Group Notices</b>
        <p>
            The State of Local Emergency declared on March 12, 2020, in response to a countywide threat from the COVID-19 virus, expired on Thursday, March 16, 2022.
        </p>
        <b>Travel in the New Normal</b>
        <p>
            As we move to the next phase of our response to the pandemic, we must demonstrate leadership to elected officials and public health authorities who will decide when, how and under what conditions travel businesses are allowed to reopen across America.
        </p>
        <p>
            <b>COVID-19 Vaccines and Testing</b>
            <ul>
                <li>• Find a <a href="https://www.vaccines.gov/">COVID-19 Vaccine Location</a> near you</li>
                <li>• Find a <a href="https://www.hhs.gov/coronavirus/community-based-testing-sites/index.html">COVID-19 Testing Location</a> near you</li>
            </ul>
        </p>
        <p>
            <b>CDC Vaccine Information and FAQs</b>
        </p>
        <p>
            The CDC recommends everyone ages 5 years and older to receive a COVID-19 vaccine. Learn more from the CDC about <a href="https://www.cdc.gov/coronavirus/2019-ncov/vaccines/index.html">all approved vaccines available to the public</a>.
        </p>
        <p>
            <b>Lost COVID-19 Vaccine Card</b>
        </p>
        <p>
            If you lose your vaccination card or any record of it, return to the location that provided the vaccination if possible. To request proof of COVID-19 vaccination if you were vaccinated at a public site, complete the <a href="https://forms.office.com/pages/responsepage.aspx?id=gI_NKEQ8J0uBoM0rA6MbjUA-GxB_oXpNtW9IlVYxeBNUNDY2N0VEN1hMRzQyWERKRllWREszMDIzWC4u">FDOH COVID Card Replacement Request</a> to receive your Immunization Clinic Record Card.
        </p>
        <p>
            Please be aware the CDC COVID-19 vaccination record card is not an official record and will be replaced with a record from the official state's immunizations registry (Florida SHOTS).
        </p>
        <p>
            Your primary care physician's office also should be able to look up the record of your immunization.
        </p>
    </blockquote>



    <div class="navbarbottom" ; style="vertical-align:middle">
        &copy; Melissa Diaz|Michael Mauk|Nathan Sundararajan|Sydney Bocik
    </div>

@using DataGov_API_Intro_6.Models
@model IEnumerable<Health>

    <div class="alert alert-dismissible" role="alert" style="display:none;">
        <strong>Success!</strong> 
        <p></p>
    </div>  
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-secondary text-white">
                    <h2>
                        <span><i class="fa-solid fa-film"></i></span>
                        Florida Health Service Area
                    </h2>
                </div>
                <div class="card-body">
                      <table id="tblCovid" class="table table-bordered" cellpadding="0" cellspacing="0">
                        <thead class="table-dark">
                            <tr>                                
                                <th style="width:100px">Health Service Id</th>
                                <th style="width:100px">Health Service Area</th>
                                <th style="width:150px">Health Service Population</th>            
                                <th style="width:150px"></th>
                            </tr>
                        </thead>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><input class="form-control" type="text" id="txtTitle" style="width:140px"/></td>
                            <td><input class="btn btn-link" type="button" id="btnAdd" value="Add"/></td>
                            <td></td>
                        </tr>
                        @foreach (Health health in Model)
                        {
                            <tr>
                                <td class="HealthId">
                                    <span>@health.health_service_num</span>                                    
                                </td>
                                <td class="HealthArea">
                                    <span>@health.health_service_area</span>
                                    <input type="text" value="@health.health_service_area" style="display:none" />
                                </td>
                                <td class="HealthPop">
                                    <span>@health.health_service_pop</span>
                                    <input type="number" value="@health.health_service_pop" style="display:none" />
                                </td>
                                <td>
                                    <a class="Edit" href="javascript:;">Edit</a>
                                    <a class="Update" href="javascript:;" style="display:none">Update</a>
                                    <a class="Cancel" href="javascript:;" style="display:none">Cancel</a>
                                    <a class="Delete" href="javascript:;">Delete</a>
                                </td>
                            </tr>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="alert alert-dismissible" role="alert" style="display:none;">
        <strong>Success!</strong> 
        <p>Something with movies.</p>
    </div>   
 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
    <script type="text/javascript">
        $(function () {
            //Remove the dummy row if data present.
            if ($("#tblCovid tr").length > 2) {
                $("#tblCovid tr:eq(1)").remove();
            } else {
                var row = $("#tblCovid tr:last-child");
                row.find(".Edit").hide();
                row.find(".Delete").hide();
                row.find("span").html('&nbsp;');
            }
        });
 
        function AppendRow(row, customerId, name, country) {
            //Bind HealthId.
            $(".HealthId", row).find("span").html(customerId);
            
            //Bind Area.
            $(".HealthArea", row).find("span").html(name);
            $(".HealthArea", row).find("input").val(name);
 
            //Bind Population.            
            $(".HealthPop", row).find("span").html(name);
            $(".HealthPop", row).find("input").val(name);
            
            row.find(".Edit").show();
            row.find(".Delete").show();
 
            $("#tblCovid").append(row);
        };
 
        //Add event handler.
        $("body").on("click", "#btnAdd", function () {
            var txtName = $("#txtTitle").val();
            var health = {};
            health.health_service_area = txtName;
            $.ajax({
                type: "POST",
                url: "/Home/InsertCovid",
                data: JSON.stringify(health),
                contentType: "application/json",
                dataType: "json",
                success: function (r) {
                    var row = $("#tblCovid tr:last-child");
                    if ($("#tblCovid tr:last-child span").eq(0).html() != "&nbsp;") {
                        row = row.clone();
                    }
                    AppendRow(row, r.MovieId, r.Title);
                    var AlertMsg = $('div[role="alert"]');
                    $(AlertMsg).find('strong').html("Created");
                    $(AlertMsg).find('p').html(health.health_service_area + " was added");
                    $(AlertMsg).removeAttr('class');
                    $(AlertMsg).addClass('alert alert-success');
                    $(AlertMsg).show();
                }
            });
        });
 
        //Edit event handler.
        $("body").on("click", "#tblCovid .Edit", function () {
            var row = $(this).closest("tr");
            $("td", row).each(function () {
                if ($(this).find("input").length > 0) {
                    $(this).find("input").show();
                    $(this).find("span").hide();
                }
            });
            row.find(".Update").show();
            row.find(".Cancel").show();
            row.find(".Delete").hide();
            $(this).hide();
        });
 
        //Update event handler.
        $("body").on("click", "#tblCovid .Update", function () {
            var row = $(this).closest("tr");
            
            $("td", row).each(function () {
                if ($(this).find("input").length > 0) {
                    var span = $(this).find("span");
                    var input = $(this).find("input");
                    span.html(input.val());
                    span.show();
                    input.hide();
                }
            });
            row.find(".Edit").show();
            row.find(".Delete").show();
            row.find(".Cancel").hide();
            $(this).hide();
 
            var health = {};
            health.health_service_num = row.find(".HealthId").find("span").html();
            health.health_service_area = row.find(".HealthArea").find("span").html();      
            $.ajax({
                type: "POST",
                url: "/Home/UpdateCovid",
                data: JSON.stringify(health),
                contentType: "application/json",
                dataType: "json",
                success: function (r) {
                    var AlertMsg = $('div[role="alert"]');
                    $(AlertMsg).find('strong').html("Updated");
                    $(AlertMsg).find('p').html(covid.county_name + " was updated");
                    $(AlertMsg).removeAttr('class');
                    $(AlertMsg).addClass('alert alert-success');
                    $(AlertMsg).show();
                }
            });
        });
 
        //Cancel event handler.
        $("body").on("click", "#tblCovid .Cancel", function () {
            var row = $(this).closest("tr");
            $("td", row).each(function () {
                if ($(this).find("input").length > 0) {
                    var span = $(this).find("span");
                    var input = $(this).find("input");
                    input.val(span.html());
                    span.show();
                    input.hide();
                }
            });
            row.find(".Edit").show();
            row.find(".Delete").show();
            row.find(".Update").hide();
            $(this).hide();
        });
 
        //Delete event handler.
        $("body").on("click", "#tblCovid .Delete", function () {
            if (confirm("Do you want to delete this row?")) {
                var row = $(this).closest("tr");                
                var HealthId = row.find("span").html();
                var health_service_area = row.find(".HealthArea").find("span").html(); 
                
                $.ajax({
                    type: "POST",
                    url: "/Home/DeleteCovid",
                    data: HealthId,
                    contentType: "application/json",
                    dataType: "json",
                    success: function (response) {
                        if ($("#tblMovies tr").length > 2) {
                            row.remove();
                            var AlertMsg = $('div[role="alert"]');
                            $(AlertMsg).find('strong').html("Deleted");
                            $(AlertMsg).find('p').html(health_service_area + " was deleted");
                            $(AlertMsg).removeAttr('class');
                            $(AlertMsg).addClass('alert alert-success');
                            $(AlertMsg).show();
                        } else {
                            row.find(".Edit").hide();
                            row.find(".Delete").hide();
                            row.find("span").html('&nbsp;');
                        }
                    }
                });
            }
        });
    </script>

</body>



</html>

